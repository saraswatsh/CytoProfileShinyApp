% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cyt_rf.R
\name{cyt_rf}
\alias{cyt_rf}
\title{Run Random Forest Classification on Cytokine Data.}
\usage{
cyt_rf(
  data,
  group_col,
  ntree = 500,
  mtry = 5,
  train_fraction = 0.7,
  plot_roc = FALSE,
  k_folds = 5,
  step = 0.5,
  run_rfcv = TRUE,
  output_file = NULL,
  progress = NULL
)
}
\arguments{
\item{data}{A data frame containing the cytokine data, with one column as the grouping variable
(target variable) and the rest as numerical features.}

\item{group_col}{A string representing the name of the column with the grouping variable.}

\item{ntree}{An integer specifying the number of trees to grow in the forest (default is 500).}

\item{mtry}{An integer specifying the number of variables randomly selected at each split (default is 5).}

\item{train_fraction}{A numeric value between 0 and 1 representing the proportion of data to use for training (default is 0.7).}

\item{plot_roc}{A logical value indicating whether to plot the ROC curve and compute the AUC for binary classification (default is FALSE).}

\item{k_folds}{An integer specifying the number of folds for cross-validation (default is 5).}

\item{step}{A numeric value specifying the fraction of variables to remove at each step during cross-validation for feature selection (default is 0.5).}

\item{run_rfcv}{A logical value indicating whether to run Random Forest cross-validation for feature selection (default is TRUE).}

\item{output_file}{Optional. A file path to save the outputs (plots and summaries) as a PDF file.
If NULL (default), the function returns a list of objects for interactive display.}
}
\value{
A list containing:
\itemize{
\item \code{model}: the trained Random Forest model,
\item \code{train_confusion}: confusion matrix from the training set,
\item \code{accuracy_train}: overall training set accuracy,
\item \code{test_confusion}: confusion matrix from the test set,
\item \code{accuracy_test}: overall test set accuracy,
\item \code{vip_plot}: a ggplot object of variable importance,
\item \code{importance_data}: a data frame with variable importance metrics,
\item \code{roc_plot}: (if applicable) a ggplot object of the ROC curve,
\item \code{rfcv_result}: (if run_rfcv is TRUE) cross-validation results,
\item \code{rfcv_data}: (if run_rfcv is TRUE) a data frame of RF CV results,
\item \code{rfcv_plot}: (if run_rfcv is TRUE) a ggplot object of RF CV error vs. number of variables.
}
If \code{output_file} is provided, a PDF is generated and the function returns \code{NULL} invisibly.
}
\description{
This function trains and evaluates a Random Forest classification model on cytokine data.
It includes variable importance visualization, cross-validation for feature selection,
and performance metrics such as accuracy, sensitivity, and specificity. For binary classification,
the function can also plot the ROC curve and compute the AUC.
}
\examples{
data.df0 <- ExampleData1
data.df <- data.frame(data.df0[, 1:3], log2(data.df0[, -c(1:3)]))
data.df <- data.df[, -c(2:3)]
data.df <- dplyr::filter(data.df, Group != "ND")

cyt_rf(data = data.df, group_col = "Group", k_folds = 5, ntree = 1000,
  mtry = 4, run_rfcv = TRUE, plot_roc = TRUE)

}
